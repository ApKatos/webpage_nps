import{m as z,c as X,d as Y,u as O}from"./router-39b327f3.js";import{l as _,ae as K,af as F,S as T,ag as Q,ah as N,p as I,m as u,c as p,ai as k,s as S,r as Z,x,a4 as ee,a5 as te,O as C,X as ne,a6 as ie,C as ae,b as se,P as re}from"./index-1368dea8.js";import{m as oe,M as w}from"./transition-7f0ce900.js";function he(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",a=arguments.length>2?arguments[2]:void 0;return _()({name:a??K(F(e.replace(/__/g,"-"))),props:{tag:{type:String,default:o},...z()},setup(i,c){let{slots:s}=c;return()=>{var t;return T(i.tag,{class:[e,i.class],style:i.style},(t=s.default)==null?void 0:t.call(s))}}})}const le=I({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function f(e,o,a){return _()({name:e,props:le({mode:a,origin:o}),setup(i,c){let{slots:s}=c;const t={onBeforeEnter(n){i.origin&&(n.style.transformOrigin=i.origin)},onLeave(n){if(i.leaveAbsolute){const{offsetTop:g,offsetLeft:l,offsetWidth:v,offsetHeight:m}=n;n._transitionInitialStyles={position:n.style.position,top:n.style.top,left:n.style.left,width:n.style.width,height:n.style.height},n.style.position="absolute",n.style.top=`${g}px`,n.style.left=`${l}px`,n.style.width=`${v}px`,n.style.height=`${m}px`}i.hideOnLeave&&n.style.setProperty("display","none","important")},onAfterLeave(n){if(i.leaveAbsolute&&(n!=null&&n._transitionInitialStyles)){const{position:g,top:l,left:v,width:m,height:h}=n._transitionInitialStyles;delete n._transitionInitialStyles,n.style.position=g||"",n.style.top=l||"",n.style.left=v||"",n.style.width=m||"",n.style.height=h||""}}};return()=>{const n=i.group?Q:N;return T(n,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:t},s.default)}}})}function W(e,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return _()({name:e,props:{mode:{type:String,default:a},disabled:Boolean},setup(i,c){let{slots:s}=c;return()=>T(N,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:o},s.default)}})}function H(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const a=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=F(`offset-${a}`);return{onBeforeEnter(t){t._parent=t.parentNode,t._initialStyle={transition:t.style.transition,overflow:t.style.overflow,[a]:t.style[a]}},onEnter(t){const n=t._initialStyle;t.style.setProperty("transition","none","important"),t.style.overflow="hidden";const g=`${t[i]}px`;t.style[a]="0",t.offsetHeight,t.style.transition=n.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame(()=>{t.style[a]=g})},onAfterEnter:s,onEnterCancelled:s,onLeave(t){t._initialStyle={transition:"",overflow:t.style.overflow,[a]:t.style[a]},t.style.overflow="hidden",t.style[a]=`${t[i]}px`,t.offsetHeight,requestAnimationFrame(()=>t.style[a]="0")},onAfterLeave:c,onLeaveCancelled:c};function c(t){e&&t._parent&&t._parent.classList.remove(e),s(t)}function s(t){const n=t._initialStyle[a];t.style.overflow=t._initialStyle.overflow,n!=null&&(t.style[a]=n),delete t._initialStyle}}f("fab-transition","center center","out-in");f("dialog-bottom-transition");f("dialog-top-transition");f("fade-transition");const Se=f("scale-transition");f("scroll-x-transition");f("scroll-x-reverse-transition");f("scroll-y-transition");f("scroll-y-reverse-transition");f("slide-x-transition");f("slide-x-reverse-transition");const _e=f("slide-y-transition");f("slide-y-reverse-transition");const be=W("expand-transition",H());W("expand-x-transition",H("",!0));function ue(e){return{aspectStyles:p(()=>{const o=Number(e.aspectRatio);return o?{paddingBottom:String(1/o*100)+"%"}:void 0})}}const j=I({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...z(),...X()},"VResponsive"),E=_()({name:"VResponsive",props:j(),setup(e,o){let{slots:a}=o;const{aspectStyles:i}=ue(e),{dimensionStyles:c}=Y(e);return O(()=>{var s;return u("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[c.value,e.style]},[u("div",{class:"v-responsive__sizer",style:i.value},null),(s=a.additional)==null?void 0:s.call(a),a.default&&u("div",{class:["v-responsive__content",e.contentClass]},[a.default()])])}),{}}});function ce(e,o){if(!k)return;const a=o.modifiers||{},i=o.value,{handler:c,options:s}=typeof i=="object"?i:{handler:i,options:{}},t=new IntersectionObserver(function(){var m;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1?arguments[1]:void 0;const l=(m=e._observe)==null?void 0:m[o.instance.$.uid];if(!l)return;const v=n.some(h=>h.isIntersecting);c&&(!a.quiet||l.init)&&(!a.once||v||l.init)&&c(v,n,g),v&&a.once?q(e,o):l.init=!0},s);e._observe=Object(e._observe),e._observe[o.instance.$.uid]={init:!1,observer:t},t.observe(e)}function q(e,o){var i;const a=(i=e._observe)==null?void 0:i[o.instance.$.uid];a&&(a.observer.unobserve(e),delete e._observe[o.instance.$.uid])}const de={mounted:ce,unmounted:q},ve=de,fe=I({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...j(),...z(),...oe()},"VImg"),we=_()({name:"VImg",directives:{intersect:ve},props:fe(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,o){let{emit:a,slots:i}=o;const c=S(""),s=Z(),t=S(e.eager?"loading":"idle"),n=S(),g=S(),l=p(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),v=p(()=>l.value.aspect||n.value/g.value||0);x(()=>e.src,()=>{m(t.value!=="idle")}),x(v,(r,d)=>{!r&&d&&s.value&&b(s.value)}),ee(()=>m());function m(r){if(!(e.eager&&r)&&!(k&&!r&&!e.eager)){if(t.value="loading",l.value.lazySrc){const d=new Image;d.src=l.value.lazySrc,b(d,null)}l.value.src&&te(()=>{var d,y;if(a("loadstart",((d=s.value)==null?void 0:d.currentSrc)||l.value.src),(y=s.value)!=null&&y.complete){if(s.value.naturalWidth||P(),t.value==="error")return;v.value||b(s.value,null),h()}else v.value||b(s.value),R()})}}function h(){var r;R(),t.value="loaded",a("load",((r=s.value)==null?void 0:r.currentSrc)||l.value.src)}function P(){var r;t.value="error",a("error",((r=s.value)==null?void 0:r.currentSrc)||l.value.src)}function R(){const r=s.value;r&&(c.value=r.currentSrc||r.src)}let V=-1;function b(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const y=()=>{clearTimeout(V);const{naturalHeight:L,naturalWidth:A}=r;L||A?(n.value=A,g.value=L):!r.complete&&t.value==="loading"&&d!=null?V=window.setTimeout(y,d):(r.currentSrc.endsWith(".svg")||r.currentSrc.startsWith("data:image/svg+xml"))&&(n.value=1,g.value=1)};y()}const $=p(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),D=()=>{var y;if(!l.value.src||t.value==="idle")return null;const r=u("img",{class:["v-img__img",$.value],src:l.value.src,srcset:l.value.srcset,alt:e.alt,sizes:e.sizes,ref:s,onLoad:h,onError:P},null),d=(y=i.sources)==null?void 0:y.call(i);return u(w,{transition:e.transition,appear:!0},{default:()=>[C(d?u("picture",{class:"v-img__picture"},[d,r]):r,[[re,t.value==="loaded"]])]})},M=()=>u(w,{transition:e.transition},{default:()=>[l.value.lazySrc&&t.value!=="loaded"&&u("img",{class:["v-img__img","v-img__img--preload",$.value],src:l.value.lazySrc,alt:e.alt},null)]}),G=()=>i.placeholder?u(w,{transition:e.transition,appear:!0},{default:()=>[(t.value==="loading"||t.value==="error"&&!i.error)&&u("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,U=()=>i.error?u(w,{transition:e.transition,appear:!0},{default:()=>[t.value==="error"&&u("div",{class:"v-img__error"},[i.error()])]}):null,J=()=>e.gradient?u("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,B=S(!1);{const r=x(v,d=>{d&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{B.value=!0})}),r())})}return O(()=>{const[r]=E.filterProps(e);return C(u(E,ae({class:["v-img",{"v-img--booting":!B.value},e.class],style:[{width:se(e.width==="auto"?n.value:e.width)},e.style]},r,{aspectRatio:v.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>u(ie,null,[u(D,null,null),u(M,null,null),u(J,null,null),u(G,null,null),u(U,null,null)]),default:i.default}),[[ne("intersect"),{handler:m,options:e.options},null,{once:!0}]])}),{currentSrc:c,image:s,state:t,naturalWidth:n,naturalHeight:g}}});export{we as V,be as a,Se as b,he as c,_e as d};
